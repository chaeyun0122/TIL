# vi
## vi(Visual Editor)란?
> ### 유닉스 환경에서부터 많이 사용되었던 문서 편집기
* 한 줄 씩 편집하는 줄 단위 편집기가 아니라 한 **화면**을 편집하는 비주얼 에디터라는 뜻에서 유래
* 간결하면서도 강력한 기능을 보유
* GUI 환경이 아닌 CLI 환경에서 사용

## format: `vi 파일명`
## 명령 모드
* enter키를 누를 필요없이 하나하나의 키를 누르면 **바로 실행**
* 커서 이동, 복사, 붙여넣기, 삭제 등의 기능을 할 수 있다(마우스 X, 방향키 O)
### 커서 이동
* `h` : 왼쪽
* `j` : 아래쪽
* `k` : 위쪽
* `l` : 오른쪽
### 단어 단위로 이동
* `w, W` : 다음 단어의 처음
* `b, B` : 이전 단어의 처음
* `e, E` : 다음 단어의 마지막
* 대문자의 경우 특수문자를 거치지 않고 이동함
ex) hello-world의 경우, `b`는 w, -, h를 거쳐서 이동하고 `B`는 바로 h로 이동한다.
### 행 단위로 이동
* `0(숫자)` : 커서가 있는 행의 맨 처음(home키와 같은 역할)
* `$` : 커서가 있는 행의 맨 마지막 (end키와 같은 역할)
### 문서 단위로 이동
* `gg` : 문서 전체에서 맨 처음
* `G` : 문서 전체에서 맨 마지막
### 화면(창) 단위로 이동
* `H` : 커서가 현재 화면 크기에서 처음
* `M` : 커서가 현재 화면 크기에서 중간
* `L` : 커서가 현재 화면 크기에서 마지막
### 그 외
* `x` : 현재 커서에 있는 문자를 삭제
* `X` : 현재 커서 이전 문자를 삭제
* `dd` : 한 줄 삭제
* `줄수+dd` : 지정한 여러 줄을 삭제
* `yy` : 한 줄 복사
* `줄수+yy` : 지정한 여러 줄을 복사
* `p(소문자)` : 현재 커서 아래에 붙여넣기
* `P(대문자)` : 현재 커서 위에 붙여넣기
* `u` : 되돌리기
* `ctrl+r` : 되살리기
* `R` : 기존 내용을 변

## 입력 모드
* 말 그대로 입력하는 문자가 그대로 문서에 입력 됨. 타이핑 작업을 하는 모드
* 하단에 -- INSEST --가 표시 됨

## 실행 모드
* 파일 저장, 파일 열기, 문서 생성 등
### 검색
* `/` : 찾을 것을 입력하고 `n`키를 누르면 **위에서 아래로** 검색하고, `N`키를 누르면 **아래에서 위로** 검색한다.
  * format: `/찾을내용` 입력 후 enter키(기본값 위, 이동 n, N키)
* `?` : 찾을 것을 입력하고 `n`키를 누르면 **아래에서 위로** 검색하고, `N`키를 누르면 **위에서 아래로** 검색한다.
  * format: `?찾을내용` 입력 후 enter키(기본값 아래, 이동 n, N키)
### 치환
* `:줄번호s/기존내용/바꿀내용` : 지정한 줄 번호에 기존 내용을 바꿀 내용으로 바꾸기
  * 하지만 이 경우 한 줄에 여러개가 있으면 맨 앞 내용만 바뀐다.
  * ex) `:3s/entry/boot`
* `:줄번호s/기존내용/바꿀내용/g` : 지정한 줄 번호에 기존 내용이 **여러 개가 있을 시** 동시에 바꿀 내용으로 바꾸기
  * ex) `:3s/entry/boot/g`
* `:줄번호,줄번호s/기존내용/바꿀내용` : 지정한 줄 번호 사이의(범위 내에)있는 기존 내용을 바꿀 내용으로 바꾸기
  * ex) `:1,5s/good/great`
* `:%s/기존내용/바꿀내용` : 현재 편집하고 있는 문서 전체의 기존내용을 바꿀내용으로 바꾸기
  * ex) `:%s/goot/great`
### shell 명령어
* `:!` : vi를 잠시 중단하고 프롬프트(작업환경)을 출력
* `:! command` : vi를 잠시 중단하고 명령어 수행 결과 값 출력
* `:.! command` : 현재 편집하고 있는 문서안에 **커서가 있는 위치부터 명령어 수행 결과 값을 삽입**
  * 현재 커서 위치의 줄에 삽입되기 때문에 그 줄의 내용이 사라진다. 가급적 빈 줄을 생성 후 사용하는 것이 좋다.
  * ex) `:.! ls`
### 파일 관련
* `:q` : 종료
* `:q!` : 강제 종료
* `:w` : 저장
* `:wq` : 저장 후 종료
* `:e file` : 파일 열기
* `:enew` : 새 문서 만들기
* `:w>>file` : 현재 편집 중인 파일 내용을 지정한 파일 가장 아래에 추가하고 저장
  * ex) 현재 편집 중인 test1파일에서 `:w>>test2`를 실행하면 test2파일 가장 아래에 test1의 내용이 추가되어 저장 됨
* `:f` : information(정보)
  * 결과화면 : `"/backup/inittab" line 17 of 158 --10%-- col 1`
* `:줄번호r file` : 현재 편집하고 있는 파일 내용 안에 지정한 줄번호+1 위치에 지정한 파일의 내용을 삽입
  * ex) `:2r test2`
* `:줄수r! command` : 현재 편집하고 있는 파일 내용 안에 지정한 줄번호+1 위치에 명령어 수행 결과값을 삽입

### 기타(etc)
* `:set number` or `:se nu` : 각 행의 맨 앞에 줄 번호 생성
* `:set nonumber` or `:se nonu` : 줄 번호 생성 취소


## 모드 전환
### 명령모드 → 입력 모드
* `i` : 현재 커서 왼쪽에 문자나 숫자 입력가능
* `a` : 현재 커서가 우측으로 한 칸 이동 후 입력
* `o(소)` : 현재 커서 아래에 빈 줄 생성 후 입력
* `O(대)` : 현재 커서 위에 빈 줄 생성 후 입력
### 명령모드 → 실행모경드
* `?, /, :` 키를 누름
### 입력모드, 실행모드 → 명령모드
* `ESC` 키를 누름
> ### 입력모드→실행모드, 실행모드→입력모드 방법은 없다. 항상 명령모드를 거쳐서 전환해야 한다.

