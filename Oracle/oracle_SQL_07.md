# Subquery를 사용하여 query 해결
## Subquery: 유형, 구문 및 지침
![image](https://user-images.githubusercontent.com/79209568/114294680-330df480-9adb-11eb-909c-dc0344cc37f9.png)

### Subquery 구문
![image](https://user-images.githubusercontent.com/79209568/114294716-6d779180-9adb-11eb-85cb-3303f206157b.png)
* subquery(inner query)는 main query(outer query)전에 실행된다.
* subquery의 결과는 main query에서 사용된다.

### Subquery 사용 지침
* 괄호로 묶어서 사용한다.
* 가독성을 위해 비교 조건의 오른쪽에 subquery를 배치한다. (하지만 양쪽 어디든 쓰일 수 있다.)
  ```sql
  SELECT *
  FROM EMP 
  WHERE SAL > (SELECT SAL 
                FROM EMP 
               WHERE ENAME = 'JONES') ; 
  ```
* **단일 행 subquery에는 단일 행 연산자를 사용하고 다중 행 subquery에는 다중 행 연산자를 사용한다.**

## 단일 행 subquery
* 결과가 한 행만 반환한다.
* 단일 행 비교 연산자를 사용합니다.
  | **연산자** |     **의미**     |
  |:----------:|:----------------:|
  |      =     | 같음             |
  |      >     | 보다 큼          |
  |     >=     | 보다 크거나 같음 |
  |      <     | 보다 작음        |
  |     <=     | 보다 작거나 같음 |
  |     <>     | 같지 않음        |
  
## 다중 행 subquery
* 두 개 이상의 행을 반환한다.
* 다중 행 비교 연산자를 사용한다.
  | **연산자** |                                                                                 **의미**                                                                                |
  |:----------:|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
  |     IN     | 리스트의 임의 멤버와 같음                                                                                                                                               |
  |     ANY    | =, !=, >, <, <=, >= 연산자가 앞에 있어야 합니다. 값 하나를 리스트의 값 또는 query에서 반환된 값과 각각 비교합니다. query에서 반환된 행이 없으면 FALSE로 평가됩니다.     |
  |     ALL    | =, !=, >, <, <=, >= 연산자가 앞에 있어야 합니다. 값 하나를 리스트의 모든 값 또는 query에서 반환된 모든 값과 비교합니다. query에서 반환된 행이 없으면 TRUE로 평가됩니다. |

